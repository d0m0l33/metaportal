{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/dominiclee/Desktop/ethprojs/metaportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11;import React from'react';import styled from'styled-components';import{useEthers,getExplorerAddressLink,useEtherBalance}from'@usedapp/core';import{TransactionsList}from'../Transactions/History';import{formatEther}from'@ethersproject/units';import{BigNumber}from'ethers';import{Colors,Shadows,Transitions}from'../../global/styles';import{ShareIcon}from'../Transactions/Icons';import{motion}from'framer-motion';import{Link}from'../base/Link';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var formatter=new Intl.NumberFormat('en-us',{minimumFractionDigits:4,maximumFractionDigits:4});var formatBalance=function formatBalance(balance){return formatter.format(parseFloat(formatEther(balance!==null&&balance!==void 0?balance:BigNumber.from('0'))));};export var AccountModal=function AccountModal(_ref){var setShowModal=_ref.setShowModal;var _useEthers=useEthers(),account=_useEthers.account,chainId=_useEthers.chainId;var balance=useEtherBalance(account);if(account&&chainId){return/*#__PURE__*/_jsx(ModalBackground,{onClick:function onClick(){return setShowModal(false);},children:/*#__PURE__*/_jsxs(Modal,{onClick:function onClick(e){return e.stopPropagation();},layout:true,initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0},children:[/*#__PURE__*/_jsxs(TitleRow,{children:[\"Account info\",/*#__PURE__*/_jsx(ClosingButton,{onClick:function onClick(){return setShowModal(false);},children:\"+\"})]}),/*#__PURE__*/_jsxs(AccountInfo,{children:[/*#__PURE__*/_jsxs(AccountAddress,{children:[\"Address: \",account]}),/*#__PURE__*/_jsxs(LinkWrapper,{children:[/*#__PURE__*/_jsxs(Link,{href:getExplorerAddressLink(account,chainId),target:\"_blank\",rel:\"noopener noreferrer\",children:[\"Show on etherscan\",/*#__PURE__*/_jsx(LinkIconWrapper,{children:/*#__PURE__*/_jsx(ShareIcon,{})})]}),window.isSecureContext&&/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return console.log(navigator.clipboard.writeText(account));},children:\"Copy to clipboard\"})]}),/*#__PURE__*/_jsxs(BalanceWrapper,{children:[\"ETH: \",balance&&formatBalance(balance)]})]}),/*#__PURE__*/_jsx(HistoryWrapper,{children:/*#__PURE__*/_jsx(TransactionsList,{})})]})});}else{setShowModal(false);return/*#__PURE__*/_jsx(\"div\",{});}};var LinkWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-top: 20px;\\n\"])));var LinkIconWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 12px;\\n  height: 12px;\\n\"])));var BalanceWrapper=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-top: 12px;\\n\"])));var HistoryWrapper=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\"])));var AccountAddress=styled.p(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-weight: 700;\\n  margin-bottom: 10px;\\n\"])));var ClosingButton=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: flex;\\n  position: absolute;\\n  top: 8px;\\n  right: 8px;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 24px;\\n  line-height: 1;\\n  width: 24px;\\n  height: 24px;\\n  transform: rotate(45deg);\\n  transition: \",\";\\n\\n  &:hover {\\n    color: \",\";\\n  }\\n\"])),Transitions.all,Colors.Yellow[500]);var TitleRow=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  position: relative;\\n  padding: 0.5em;\\n  width: 100%;\\n  font-size: 20px;\\n\"])));var DomainRow=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  position: relative;\\n  width: 100%;\\n  font-size: 15px;\\n  padding-left: 0.5em;\\n\"])));var AccountInfo=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  margin: 0.5em;\\n  padding: 0.5em;\\n  border-radius: 10px;\\n  box-shadow: \",\";\\n  background-color: \",\";\\n\"])),Shadows.main,Colors.White);var Modal=styled(motion.div)(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  height:fit-content;\\n  background-color: white;\\n  box-shadow: \",\";\\n  border-radius: 10px;\\n  z-index: 3;\\n  margin-top:6em;\\n\"])),Shadows.main);var ModalBackground=styled(motion.div)(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  top: 0;\\n  left: 0;\\n  position: fixed;\\n  width: 100%;\\n  height: 100%;\\n  margin: 0px;\\n  z-index: 2;\\n  background-color: rgba(235, 232, 223, 0.5);\\n  display: flex;\\n  justify-content: center;\\n\"])));","map":{"version":3,"sources":["/Users/dominiclee/Desktop/ethprojs/metaportal/src/components/account/AccountModal.tsx"],"names":["React","styled","useEthers","getExplorerAddressLink","useEtherBalance","TransactionsList","formatEther","BigNumber","Colors","Shadows","Transitions","ShareIcon","motion","Link","formatter","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","formatBalance","balance","format","parseFloat","from","AccountModal","setShowModal","account","chainId","e","stopPropagation","opacity","y","window","isSecureContext","console","log","navigator","clipboard","writeText","LinkWrapper","div","LinkIconWrapper","BalanceWrapper","HistoryWrapper","AccountAddress","p","ClosingButton","button","all","Yellow","TitleRow","DomainRow","AccountInfo","main","White","Modal","ModalBackground"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { useEthers, getExplorerAddressLink, useEtherBalance } from '@usedapp/core'\nimport { TransactionsList } from '../Transactions/History'\nimport { formatEther } from '@ethersproject/units'\nimport { BigNumber } from 'ethers'\nimport { Colors, Shadows, Transitions } from '../../global/styles'\nimport { ShareIcon } from '../Transactions/Icons'\nimport { motion } from 'framer-motion'\nimport { Link } from '../base/Link'\n\nconst formatter = new Intl.NumberFormat('en-us', {\n  minimumFractionDigits: 4,\n  maximumFractionDigits: 4,\n})\n\nconst formatBalance = (balance: BigNumber | undefined) =>\n  formatter.format(parseFloat(formatEther(balance ?? BigNumber.from('0'))))\n\nexport type AccountModalProps = {\n  setShowModal: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nexport const AccountModal = ({ setShowModal }: AccountModalProps) => {\n  const { account, chainId } = useEthers()\n  const balance = useEtherBalance(account)\n  if (account && chainId) {\n    return (\n      <ModalBackground onClick={() => setShowModal(false)}>\n        <Modal\n          onClick={(e) => e.stopPropagation()}\n          layout\n          initial={{ opacity: 0, y: -50 }}\n          animate={{ opacity: 1, y: 0 }}\n          exit={{ opacity: 0 }}\n        >\n          <TitleRow>\n            Account info\n            <ClosingButton onClick={() => setShowModal(false)}>+</ClosingButton>\n          </TitleRow>\n          <AccountInfo>\n            <AccountAddress>Address: {account}</AccountAddress>\n            <LinkWrapper>\n              <Link href={getExplorerAddressLink(account, chainId)} target=\"_blank\" rel=\"noopener noreferrer\">\n                Show on etherscan\n                <LinkIconWrapper>\n                  <ShareIcon />\n                </LinkIconWrapper>\n              </Link>\n              {window.isSecureContext && (\n                <Link onClick={() => console.log(navigator.clipboard.writeText(account))}>Copy to clipboard</Link>\n              )}\n            </LinkWrapper>\n            <BalanceWrapper>ETH: {balance && formatBalance(balance)}</BalanceWrapper>\n          </AccountInfo>\n          <HistoryWrapper>\n            <TransactionsList />\n          </HistoryWrapper>\n        </Modal>\n      </ModalBackground>\n    )\n  } else {\n    setShowModal(false)\n    return <div />\n  }\n}\n\nconst LinkWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 20px;\n`\n\nconst LinkIconWrapper = styled.div`\n  width: 12px;\n  height: 12px;\n`\n\nconst BalanceWrapper = styled.div`\n  margin-top: 12px;\n`\n\nconst HistoryWrapper = styled.div``\n\nconst AccountAddress = styled.p`\n  font-weight: 700;\n  margin-bottom: 10px;\n`\n\nconst ClosingButton = styled.button`\n  display: flex;\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  justify-content: center;\n  align-items: center;\n  font-size: 24px;\n  line-height: 1;\n  width: 24px;\n  height: 24px;\n  transform: rotate(45deg);\n  transition: ${Transitions.all};\n\n  &:hover {\n    color: ${Colors.Yellow[500]};\n  }\n`\n\nconst TitleRow = styled.div`\n  display: flex;\n  align-items: center;\n  position: relative;\n  padding: 0.5em;\n  width: 100%;\n  font-size: 20px;\n`\nconst DomainRow = styled.div`\n  display: flex;\n  align-items: center;\n  position: relative;\n  width: 100%;\n  font-size: 15px;\n  padding-left: 0.5em;\n`\n\nconst AccountInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0.5em;\n  padding: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${Shadows.main};\n  background-color: ${Colors.White};\n`\n\nconst Modal = styled(motion.div)`\n  display: flex;\n  flex-direction: column;\n  height:fit-content;\n  background-color: white;\n  box-shadow: ${Shadows.main};\n  border-radius: 10px;\n  z-index: 3;\n  margin-top:6em;\n`\n\nconst ModalBackground = styled(motion.div)`\n  top: 0;\n  left: 0;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  z-index: 2;\n  background-color: rgba(235, 232, 223, 0.5);\n  display: flex;\n  justify-content: center;\n`\n"]},"metadata":{},"sourceType":"module"}