"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../loaders/FBXLoader.cjs.js");require("three"),require("fflate"),require("../curves/NURBSCurve.cjs.js"),require("../curves/NURBSUtils.cjs.js");exports.XRHandOculusMeshModel=class{constructor(i,n,l,r,t){this.controller=n,this.handModel=i,this.bones=[];const a=new e.FBXLoader,s=t&&"lowpoly"===t.model?"_low":"";a.setPath(l),a.load(`OculusHand_${"right"===r?"R":"L"}${s}.fbx`,(e=>{this.handModel.add(e),e.scale.setScalar(.01);const i=e.getObjectByProperty("type","SkinnedMesh");i.frustumCulled=!1,i.castShadow=!0,i.receiveShadow=!0;const n=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"];let l=0;["b_%_wrist","b_%_thumb1","b_%_thumb2","b_%_thumb3","b_%_thumb_null",null,"b_%_index1","b_%_index2","b_%_index3","b_%_index_null",null,"b_%_middle1","b_%_middle2","b_%_middle3","b_%_middlenull",null,"b_%_ring1","b_%_ring2","b_%_ring3","b_%_ring_inull","b_%_pinky0","b_%_pinky1","b_%_pinky2","b_%_pinky3","b_%_pinkynull"].forEach((i=>{if(i){const t=e.getObjectByName(i.replace(/%/g,"right"===r?"r":"l"));void 0!==t&&(t.jointName=n[l]),this.bones.push(t)}else this.bones.push(null);l++}))}))}updateMesh(){const e=this.controller.joints;for(let i=0;i<this.bones.length;i++){const n=this.bones[i];if(n){const i=e[n.jointName];if(i.visible){const e=i.position;n&&(n.position.copy(e.clone().multiplyScalar(100)),n.quaternion.copy(i.quaternion))}}}}};
