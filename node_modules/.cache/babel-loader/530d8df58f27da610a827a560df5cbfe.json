{"ast":null,"code":"import { BufferGeometry, Float32BufferAttribute } from 'three';\nimport { ConvexHull } from '../math/ConvexHull.js';\n\nclass ConvexGeometry extends BufferGeometry {\n  constructor(points) {\n    super(); // buffers\n\n    const vertices = [];\n    const normals = [];\n\n    if (ConvexHull === undefined) {\n      console.error('THREE.ConvexBufferGeometry: ConvexBufferGeometry relies on ConvexHull');\n    }\n\n    const convexHull = new ConvexHull().setFromPoints(points); // generate vertices and normals\n\n    const faces = convexHull.faces;\n\n    for (let i = 0; i < faces.length; i++) {\n      const face = faces[i];\n      let edge = face.edge; // we move along a doubly-connected edge list to access all face points (see HalfEdge docs)\n\n      do {\n        const point = edge.head().point;\n        vertices.push(point.x, point.y, point.z);\n        normals.push(face.normal.x, face.normal.y, face.normal.z);\n        edge = edge.next;\n      } while (edge !== face.edge);\n    } // build geometry\n\n\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n  }\n\n}\n\nexport { ConvexGeometry };","map":{"version":3,"sources":["/Users/dominiclee/Desktop/ethprojs/metaportalpublic/node_modules/three-stdlib/geometries/ConvexGeometry.js"],"names":["BufferGeometry","Float32BufferAttribute","ConvexHull","ConvexGeometry","constructor","points","vertices","normals","undefined","console","error","convexHull","setFromPoints","faces","i","length","face","edge","point","head","push","x","y","z","normal","next","setAttribute"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,sBAAzB,QAAuD,OAAvD;AACA,SAASC,UAAT,QAA2B,uBAA3B;;AAEA,MAAMC,cAAN,SAA6BH,cAA7B,CAA4C;AAC1CI,EAAAA,WAAW,CAACC,MAAD,EAAS;AAClB,YADkB,CACT;;AAET,UAAMC,QAAQ,GAAG,EAAjB;AACA,UAAMC,OAAO,GAAG,EAAhB;;AAEA,QAAIL,UAAU,KAAKM,SAAnB,EAA8B;AAC5BC,MAAAA,OAAO,CAACC,KAAR,CAAc,uEAAd;AACD;;AAED,UAAMC,UAAU,GAAG,IAAIT,UAAJ,GAAiBU,aAAjB,CAA+BP,MAA/B,CAAnB,CAVkB,CAUyC;;AAE3D,UAAMQ,KAAK,GAAGF,UAAU,CAACE,KAAzB;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,YAAME,IAAI,GAAGH,KAAK,CAACC,CAAD,CAAlB;AACA,UAAIG,IAAI,GAAGD,IAAI,CAACC,IAAhB,CAFqC,CAEf;;AAEtB,SAAG;AACD,cAAMC,KAAK,GAAGD,IAAI,CAACE,IAAL,GAAYD,KAA1B;AACAZ,QAAAA,QAAQ,CAACc,IAAT,CAAcF,KAAK,CAACG,CAApB,EAAuBH,KAAK,CAACI,CAA7B,EAAgCJ,KAAK,CAACK,CAAtC;AACAhB,QAAAA,OAAO,CAACa,IAAR,CAAaJ,IAAI,CAACQ,MAAL,CAAYH,CAAzB,EAA4BL,IAAI,CAACQ,MAAL,CAAYF,CAAxC,EAA2CN,IAAI,CAACQ,MAAL,CAAYD,CAAvD;AACAN,QAAAA,IAAI,GAAGA,IAAI,CAACQ,IAAZ;AACD,OALD,QAKSR,IAAI,KAAKD,IAAI,CAACC,IALvB;AAMD,KAxBiB,CAwBhB;;;AAGF,SAAKS,YAAL,CAAkB,UAAlB,EAA8B,IAAIzB,sBAAJ,CAA2BK,QAA3B,EAAqC,CAArC,CAA9B;AACA,SAAKoB,YAAL,CAAkB,QAAlB,EAA4B,IAAIzB,sBAAJ,CAA2BM,OAA3B,EAAoC,CAApC,CAA5B;AACD;;AA9ByC;;AAkC5C,SAASJ,cAAT","sourcesContent":["import { BufferGeometry, Float32BufferAttribute } from 'three';\nimport { ConvexHull } from '../math/ConvexHull.js';\n\nclass ConvexGeometry extends BufferGeometry {\n  constructor(points) {\n    super(); // buffers\n\n    const vertices = [];\n    const normals = [];\n\n    if (ConvexHull === undefined) {\n      console.error('THREE.ConvexBufferGeometry: ConvexBufferGeometry relies on ConvexHull');\n    }\n\n    const convexHull = new ConvexHull().setFromPoints(points); // generate vertices and normals\n\n    const faces = convexHull.faces;\n\n    for (let i = 0; i < faces.length; i++) {\n      const face = faces[i];\n      let edge = face.edge; // we move along a doubly-connected edge list to access all face points (see HalfEdge docs)\n\n      do {\n        const point = edge.head().point;\n        vertices.push(point.x, point.y, point.z);\n        normals.push(face.normal.x, face.normal.y, face.normal.z);\n        edge = edge.next;\n      } while (edge !== face.edge);\n    } // build geometry\n\n\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n  }\n\n}\n\nexport { ConvexGeometry };\n"]},"metadata":{},"sourceType":"module"}