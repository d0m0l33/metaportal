{"ast":null,"code":"import { WebGLCubeRenderTarget, LinearFilter, RGBFormat } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nfunction CubeCamera(_ref) {\n  let {\n    children,\n    fog,\n    frames = Infinity,\n    resolution = 256,\n    near = 1,\n    far = 1000,\n    ...props\n  } = _ref;\n  const ref = React.useRef();\n  const [camera, setCamera] = React.useState();\n  const scene = useThree(_ref2 => {\n    let {\n      scene\n    } = _ref2;\n    return scene;\n  });\n  const gl = useThree(_ref3 => {\n    let {\n      gl\n    } = _ref3;\n    return gl;\n  });\n  const fbo = React.useMemo(() => new WebGLCubeRenderTarget(resolution, {\n    minFilter: LinearFilter,\n    magFilter: LinearFilter,\n    format: RGBFormat,\n    encoding: gl.outputEncoding\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [resolution]);\n  let count = 0;\n  useFrame(() => {\n    if (camera && ref.current && (frames === Infinity || count < frames)) {\n      ref.current.traverse(obj => obj.visible = false);\n      const originalFog = scene.fog;\n      scene.fog = fog || originalFog;\n      camera.update(gl, scene);\n      scene.fog = originalFog;\n      ref.current.traverse(obj => obj.visible = true);\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: setCamera,\n    args: [near, far, fbo]\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, children(fbo.texture)));\n}\n\nexport { CubeCamera };","map":{"version":3,"sources":["/Users/dominiclee/Desktop/ethprojs/metaportal/node_modules/@react-three/drei/core/CubeCamera.js"],"names":["WebGLCubeRenderTarget","LinearFilter","RGBFormat","React","useThree","useFrame","CubeCamera","children","fog","frames","Infinity","resolution","near","far","props","ref","useRef","camera","setCamera","useState","scene","gl","fbo","useMemo","minFilter","magFilter","format","encoding","outputEncoding","count","current","traverse","obj","visible","originalFog","update","createElement","args","texture"],"mappings":"AAAA,SAASA,qBAAT,EAAgCC,YAAhC,EAA8CC,SAA9C,QAA+D,OAA/D;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,QAAnB,QAAmC,oBAAnC;;AAEA,SAASC,UAAT,OAQG;AAAA,MARiB;AAClBC,IAAAA,QADkB;AAElBC,IAAAA,GAFkB;AAGlBC,IAAAA,MAAM,GAAGC,QAHS;AAIlBC,IAAAA,UAAU,GAAG,GAJK;AAKlBC,IAAAA,IAAI,GAAG,CALW;AAMlBC,IAAAA,GAAG,GAAG,IANY;AAOlB,OAAGC;AAPe,GAQjB;AACD,QAAMC,GAAG,GAAGZ,KAAK,CAACa,MAAN,EAAZ;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBf,KAAK,CAACgB,QAAN,EAA5B;AACA,QAAMC,KAAK,GAAGhB,QAAQ,CAAC;AAAA,QAAC;AACtBgB,MAAAA;AADsB,KAAD;AAAA,WAEjBA,KAFiB;AAAA,GAAD,CAAtB;AAGA,QAAMC,EAAE,GAAGjB,QAAQ,CAAC;AAAA,QAAC;AACnBiB,MAAAA;AADmB,KAAD;AAAA,WAEdA,EAFc;AAAA,GAAD,CAAnB;AAGA,QAAMC,GAAG,GAAGnB,KAAK,CAACoB,OAAN,CAAc,MAAM,IAAIvB,qBAAJ,CAA0BW,UAA1B,EAAsC;AACpEa,IAAAA,SAAS,EAAEvB,YADyD;AAEpEwB,IAAAA,SAAS,EAAExB,YAFyD;AAGpEyB,IAAAA,MAAM,EAAExB,SAH4D;AAIpEyB,IAAAA,QAAQ,EAAEN,EAAE,CAACO;AAJuD,GAAtC,CAApB,EAKR;AACJ,GAACjB,UAAD,CANY,CAAZ;AAOA,MAAIkB,KAAK,GAAG,CAAZ;AACAxB,EAAAA,QAAQ,CAAC,MAAM;AACb,QAAIY,MAAM,IAAIF,GAAG,CAACe,OAAd,KAA0BrB,MAAM,KAAKC,QAAX,IAAuBmB,KAAK,GAAGpB,MAAzD,CAAJ,EAAsE;AACpEM,MAAAA,GAAG,CAACe,OAAJ,CAAYC,QAAZ,CAAqBC,GAAG,IAAIA,GAAG,CAACC,OAAJ,GAAc,KAA1C;AACA,YAAMC,WAAW,GAAGd,KAAK,CAACZ,GAA1B;AACAY,MAAAA,KAAK,CAACZ,GAAN,GAAYA,GAAG,IAAI0B,WAAnB;AACAjB,MAAAA,MAAM,CAACkB,MAAP,CAAcd,EAAd,EAAkBD,KAAlB;AACAA,MAAAA,KAAK,CAACZ,GAAN,GAAY0B,WAAZ;AACAnB,MAAAA,GAAG,CAACe,OAAJ,CAAYC,QAAZ,CAAqBC,GAAG,IAAIA,GAAG,CAACC,OAAJ,GAAc,IAA1C;AACAJ,MAAAA,KAAK;AACN;AACF,GAVO,CAAR;AAWA,SAAO,aAAa1B,KAAK,CAACiC,aAAN,CAAoB,OAApB,EAA6BtB,KAA7B,EAAoC,aAAaX,KAAK,CAACiC,aAAN,CAAoB,YAApB,EAAkC;AACrGrB,IAAAA,GAAG,EAAEG,SADgG;AAErGmB,IAAAA,IAAI,EAAE,CAACzB,IAAD,EAAOC,GAAP,EAAYS,GAAZ;AAF+F,GAAlC,CAAjD,EAGhB,aAAanB,KAAK,CAACiC,aAAN,CAAoB,OAApB,EAA6B;AAC5CrB,IAAAA,GAAG,EAAEA;AADuC,GAA7B,EAEdR,QAAQ,CAACe,GAAG,CAACgB,OAAL,CAFM,CAHG,CAApB;AAMD;;AAED,SAAShC,UAAT","sourcesContent":["import { WebGLCubeRenderTarget, LinearFilter, RGBFormat } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nfunction CubeCamera({\n  children,\n  fog,\n  frames = Infinity,\n  resolution = 256,\n  near = 1,\n  far = 1000,\n  ...props\n}) {\n  const ref = React.useRef();\n  const [camera, setCamera] = React.useState();\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const fbo = React.useMemo(() => new WebGLCubeRenderTarget(resolution, {\n    minFilter: LinearFilter,\n    magFilter: LinearFilter,\n    format: RGBFormat,\n    encoding: gl.outputEncoding\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [resolution]);\n  let count = 0;\n  useFrame(() => {\n    if (camera && ref.current && (frames === Infinity || count < frames)) {\n      ref.current.traverse(obj => obj.visible = false);\n      const originalFog = scene.fog;\n      scene.fog = fog || originalFog;\n      camera.update(gl, scene);\n      scene.fog = originalFog;\n      ref.current.traverse(obj => obj.visible = true);\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: setCamera,\n    args: [near, far, fbo]\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, children(fbo.texture)));\n}\n\nexport { CubeCamera };\n"]},"metadata":{},"sourceType":"module"}