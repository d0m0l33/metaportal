{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/dominiclee/Desktop/ethprojs/metaportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/Users/dominiclee/Desktop/ethprojs/metaportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dominiclee/Desktop/ethprojs/metaportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dominiclee/Desktop/ethprojs/metaportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useEffect,useState}from'react';import{useEthers,shortenAddress,useLookupAddress}from'@usedapp/core';import{Button}from'../base/Button';import{Colors}from'../../global/styles';import styled from'styled-components';import{AccountModal}from'./AccountModal';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var AccountButton=function AccountButton(){var _useEthers=useEthers(),account=_useEthers.account,deactivate=_useEthers.deactivate,activateBrowserWallet=_useEthers.activateBrowserWallet;var ens=useLookupAddress();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),activateError=_useState4[0],setActivateError=_useState4[1];var _useEthers2=useEthers(),error=_useEthers2.error;useEffect(function(){if(error){setActivateError(error.message);}},[error]);var activate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setActivateError('');activateBrowserWallet();case 2:case\"end\":return _context.stop();}}},_callee);}));return function activate(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Account,{children:[activateError&&/*#__PURE__*/_jsxs(ErrorWrapper,{children:[\"\\u26A0\\uFE0F \",activateError]}),showModal&&/*#__PURE__*/_jsx(AccountModal,{setShowModal:setShowModal}),account?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AccountLabel,{onClick:function onClick(){return setShowModal(!showModal);},children:ens!==null&&ens!==void 0?ens:shortenAddress(account)}),/*#__PURE__*/_jsx(LoginButton,{onClick:function onClick(){return deactivate();},children:\"Disconnect\"})]}):/*#__PURE__*/_jsx(LoginButton,{onClick:activate,children:\"Connect\"})]});};var ErrorWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: #ff3960;\\n  margin-right: 40px;\\n  margin-left: 40px;\\n  overflow: auto;\\n\"])));var Account=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\"])));var LoginButton=styled(Button)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n\"])),Colors.Yellow[100]);var AccountLabel=styled(Button)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  height: 32px;\\n  margin-right: -40px;\\n  padding-right: 40px;\\n  padding-left: 8px;\\n  background-color: \",\";\\n  font-size: 12px;\\n\"])),Colors.Yellow[100]);","map":{"version":3,"sources":["/Users/dominiclee/Desktop/ethprojs/metaportal/src/components/account/AccountButton.tsx"],"names":["React","useEffect","useState","useEthers","shortenAddress","useLookupAddress","Button","Colors","styled","AccountModal","AccountButton","account","deactivate","activateBrowserWallet","ens","showModal","setShowModal","activateError","setActivateError","error","message","activate","ErrorWrapper","div","Account","LoginButton","Yellow","AccountLabel"],"mappings":"ouBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,cAApB,CAAoCC,gBAApC,KAA4D,eAA5D,CACA,OAASC,MAAT,KAAuB,gBAAvB,CACA,OAASC,MAAT,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,OAASC,YAAT,KAA6B,gBAA7B,C,6IAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACjC,eAAuDP,SAAS,EAAhE,CAAQQ,OAAR,YAAQA,OAAR,CAAiBC,UAAjB,YAAiBA,UAAjB,CAA6BC,qBAA7B,YAA6BA,qBAA7B,CACA,GAAMC,CAAAA,GAAG,CAAGT,gBAAgB,EAA5B,CACA,cAAkCH,QAAQ,CAAC,KAAD,CAA1C,wCAAOa,SAAP,eAAkBC,YAAlB,eAEA,eAA0Cd,QAAQ,CAAC,EAAD,CAAlD,yCAAOe,aAAP,eAAsBC,gBAAtB,eACA,gBAAkBf,SAAS,EAA3B,CAAQgB,KAAR,aAAQA,KAAR,CACAlB,SAAS,CAAC,UAAM,CACd,GAAIkB,KAAJ,CAAW,CACTD,gBAAgB,CAACC,KAAK,CAACC,OAAP,CAAhB,CACD,CACF,CAJQ,CAIN,CAACD,KAAD,CAJM,CAAT,CAMA,GAAME,CAAAA,QAAQ,0FAAG,mIACfH,gBAAgB,CAAC,EAAD,CAAhB,CACAL,qBAAqB,GAFN,sDAAH,kBAARQ,CAAAA,QAAQ,0CAAd,CAKA,mBACE,MAAC,OAAD,YACGJ,aAAa,eAAI,MAAC,YAAD,4BAAkBA,aAAlB,GADpB,CAEGF,SAAS,eAAI,KAAC,YAAD,EAAc,YAAY,CAAEC,YAA5B,EAFhB,CAGGL,OAAO,cACN,wCACE,KAAC,YAAD,EAAc,OAAO,CAAE,yBAAMK,CAAAA,YAAY,CAAC,CAACD,SAAF,CAAlB,EAAvB,UAAwDD,GAAxD,SAAwDA,GAAxD,UAAwDA,GAAxD,CAA+DV,cAAc,CAACO,OAAD,CAA7E,EADF,cAEE,KAAC,WAAD,EAAa,OAAO,CAAE,yBAAMC,CAAAA,UAAU,EAAhB,EAAtB,wBAFF,GADM,cAMN,KAAC,WAAD,EAAa,OAAO,CAAES,QAAtB,qBATJ,GADF,CAcD,CAhCM,CAkCP,GAAMC,CAAAA,YAAY,CAAGd,MAAM,CAACe,GAAV,sJAAlB,CAOA,GAAMC,CAAAA,OAAO,CAAGhB,MAAM,CAACe,GAAV,+GAAb,CAKA,GAAME,CAAAA,WAAW,CAAGjB,MAAM,CAACF,MAAD,CAAT,+FACKC,MAAM,CAACmB,MAAP,CAAc,GAAd,CADL,CAAjB,CAIA,GAAMC,CAAAA,YAAY,CAAGnB,MAAM,CAACF,MAAD,CAAT,0MAKIC,MAAM,CAACmB,MAAP,CAAc,GAAd,CALJ,CAAlB","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useEthers, shortenAddress, useLookupAddress } from '@usedapp/core'\nimport { Button } from '../base/Button'\nimport { Colors } from '../../global/styles'\nimport styled from 'styled-components'\n\nimport { AccountModal } from './AccountModal'\n\nexport const AccountButton = () => {\n  const { account, deactivate, activateBrowserWallet } = useEthers()\n  const ens = useLookupAddress()\n  const [showModal, setShowModal] = useState(false)\n\n  const [activateError, setActivateError] = useState('');\n  const { error } = useEthers()\n  useEffect(() => {\n    if (error) {\n      setActivateError(error.message)\n    }\n  }, [error])\n\n  const activate = async () => {\n    setActivateError('')\n    activateBrowserWallet()\n  }\n\n  return (\n    <Account>\n      {activateError && <ErrorWrapper>⚠️ {activateError}</ErrorWrapper>}\n      {showModal && <AccountModal setShowModal={setShowModal} />}\n      {account ? (\n        <>\n          <AccountLabel onClick={() => setShowModal(!showModal)}>{ens ?? shortenAddress(account)}</AccountLabel>\n          <LoginButton onClick={() => deactivate()}>Disconnect</LoginButton>\n        </>\n      ) : (\n        <LoginButton onClick={activate}>Connect</LoginButton>\n      )}\n    </Account>\n  )\n}\n\nconst ErrorWrapper = styled.div`\n  color: #ff3960;\n  margin-right: 40px;\n  margin-left: 40px;\n  overflow: auto;\n`\n\nconst Account = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst LoginButton = styled(Button)`\n  background-color: ${Colors.Yellow[100]};\n`\n\nconst AccountLabel = styled(Button)`\n  height: 32px;\n  margin-right: -40px;\n  padding-right: 40px;\n  padding-left: 8px;\n  background-color: ${Colors.Yellow[100]};\n  font-size: 12px;\n`\n"]},"metadata":{},"sourceType":"module"}