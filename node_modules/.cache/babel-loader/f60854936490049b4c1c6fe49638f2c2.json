{"ast":null,"code":"class VRButton {\n  static createButton(renderer, options) {\n    if (options) {\n      console.error('THREE.VRButton: The \"options\" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');\n    }\n\n    const button = document.createElement('button');\n\n    function showEnterVR()\n    /*device*/\n    {\n      let currentSession = null;\n\n      async function onSessionStarted(session) {\n        session.addEventListener('end', onSessionEnded);\n        await renderer.xr.setSession(session);\n        button.textContent = 'EXIT VR';\n        currentSession = session;\n      }\n\n      function onSessionEnded()\n      /*event*/\n      {\n        currentSession.removeEventListener('end', onSessionEnded);\n        button.textContent = 'ENTER VR';\n        currentSession = null;\n      } //\n\n\n      button.style.display = '';\n      button.style.cursor = 'pointer';\n      button.style.left = 'calc(50% - 50px)';\n      button.style.width = '100px';\n      button.textContent = 'ENTER VR';\n\n      button.onmouseenter = function () {\n        button.style.opacity = '1.0';\n      };\n\n      button.onmouseleave = function () {\n        button.style.opacity = '0.5';\n      };\n\n      button.onclick = function () {\n        if (currentSession === null) {\n          // WebXR's requestReferenceSpace only works if the corresponding feature\n          // was requested at session creation time. For simplicity, just ask for\n          // the interesting ones as optional features, but be aware that the\n          // requestReferenceSpace call will fail if it turns out to be unavailable.\n          // ('local' is always available for immersive sessions and doesn't need to\n          // be requested separately.)\n          const sessionInit = {\n            optionalFeatures: ['local-floor', 'bounded-floor', 'hand-tracking']\n          };\n          navigator.xr.requestSession('immersive-vr', sessionInit).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function disableButton() {\n      button.style.display = '';\n      button.style.cursor = 'auto';\n      button.style.left = 'calc(50% - 75px)';\n      button.style.width = '150px';\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n\n    function showWebXRNotFound() {\n      disableButton();\n      button.textContent = 'VR NOT SUPPORTED';\n    }\n\n    function stylizeElement(element) {\n      element.style.position = 'absolute';\n      element.style.bottom = '20px';\n      element.style.padding = '12px 6px';\n      element.style.border = '1px solid #fff';\n      element.style.borderRadius = '4px';\n      element.style.background = 'rgba(0,0,0,0.1)';\n      element.style.color = '#fff';\n      element.style.font = 'normal 13px sans-serif';\n      element.style.textAlign = 'center';\n      element.style.opacity = '0.5';\n      element.style.outline = 'none';\n      element.style.zIndex = '999';\n    }\n\n    if ('xr' in navigator) {\n      button.id = 'VRButton';\n      button.style.display = 'none';\n      stylizeElement(button);\n      navigator.xr.isSessionSupported('immersive-vr').then(function (supported) {\n        supported ? showEnterVR() : showWebXRNotFound();\n      });\n      return button;\n    } else {\n      const message = document.createElement('a');\n\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, 'https:');\n        message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n      } else {\n        message.href = 'https://immersiveweb.dev/';\n        message.innerHTML = 'WEBXR NOT AVAILABLE';\n      }\n\n      message.style.left = 'calc(50% - 90px)';\n      message.style.width = '180px';\n      message.style.textDecoration = 'none';\n      stylizeElement(message);\n      return message;\n    }\n  }\n\n}\n\nexport { VRButton };","map":{"version":3,"sources":["/Users/dominiclee/Desktop/ethprojs/metaportal/node_modules/three-stdlib/webxr/VRButton.js"],"names":["VRButton","createButton","renderer","options","console","error","button","document","createElement","showEnterVR","currentSession","onSessionStarted","session","addEventListener","onSessionEnded","xr","setSession","textContent","removeEventListener","style","display","cursor","left","width","onmouseenter","opacity","onmouseleave","onclick","sessionInit","optionalFeatures","navigator","requestSession","then","end","disableButton","showWebXRNotFound","stylizeElement","element","position","bottom","padding","border","borderRadius","background","color","font","textAlign","outline","zIndex","id","isSessionSupported","supported","message","window","isSecureContext","href","location","replace","innerHTML","textDecoration"],"mappings":"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","sourcesContent":["class VRButton {\n  static createButton(renderer, options) {\n    if (options) {\n      console.error('THREE.VRButton: The \"options\" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');\n    }\n\n    const button = document.createElement('button');\n\n    function showEnterVR()\n    /*device*/\n    {\n      let currentSession = null;\n\n      async function onSessionStarted(session) {\n        session.addEventListener('end', onSessionEnded);\n        await renderer.xr.setSession(session);\n        button.textContent = 'EXIT VR';\n        currentSession = session;\n      }\n\n      function onSessionEnded()\n      /*event*/\n      {\n        currentSession.removeEventListener('end', onSessionEnded);\n        button.textContent = 'ENTER VR';\n        currentSession = null;\n      } //\n\n\n      button.style.display = '';\n      button.style.cursor = 'pointer';\n      button.style.left = 'calc(50% - 50px)';\n      button.style.width = '100px';\n      button.textContent = 'ENTER VR';\n\n      button.onmouseenter = function () {\n        button.style.opacity = '1.0';\n      };\n\n      button.onmouseleave = function () {\n        button.style.opacity = '0.5';\n      };\n\n      button.onclick = function () {\n        if (currentSession === null) {\n          // WebXR's requestReferenceSpace only works if the corresponding feature\n          // was requested at session creation time. For simplicity, just ask for\n          // the interesting ones as optional features, but be aware that the\n          // requestReferenceSpace call will fail if it turns out to be unavailable.\n          // ('local' is always available for immersive sessions and doesn't need to\n          // be requested separately.)\n          const sessionInit = {\n            optionalFeatures: ['local-floor', 'bounded-floor', 'hand-tracking']\n          };\n          navigator.xr.requestSession('immersive-vr', sessionInit).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function disableButton() {\n      button.style.display = '';\n      button.style.cursor = 'auto';\n      button.style.left = 'calc(50% - 75px)';\n      button.style.width = '150px';\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n\n    function showWebXRNotFound() {\n      disableButton();\n      button.textContent = 'VR NOT SUPPORTED';\n    }\n\n    function stylizeElement(element) {\n      element.style.position = 'absolute';\n      element.style.bottom = '20px';\n      element.style.padding = '12px 6px';\n      element.style.border = '1px solid #fff';\n      element.style.borderRadius = '4px';\n      element.style.background = 'rgba(0,0,0,0.1)';\n      element.style.color = '#fff';\n      element.style.font = 'normal 13px sans-serif';\n      element.style.textAlign = 'center';\n      element.style.opacity = '0.5';\n      element.style.outline = 'none';\n      element.style.zIndex = '999';\n    }\n\n    if ('xr' in navigator) {\n      button.id = 'VRButton';\n      button.style.display = 'none';\n      stylizeElement(button);\n      navigator.xr.isSessionSupported('immersive-vr').then(function (supported) {\n        supported ? showEnterVR() : showWebXRNotFound();\n      });\n      return button;\n    } else {\n      const message = document.createElement('a');\n\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, 'https:');\n        message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n      } else {\n        message.href = 'https://immersiveweb.dev/';\n        message.innerHTML = 'WEBXR NOT AVAILABLE';\n      }\n\n      message.style.left = 'calc(50% - 90px)';\n      message.style.width = '180px';\n      message.style.textDecoration = 'none';\n      stylizeElement(message);\n      return message;\n    }\n  }\n\n}\n\nexport { VRButton };\n"]},"metadata":{},"sourceType":"module"}