{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useEthers } from './useEthers';\nexport function useTokenList(tokenListURI, overrideChainId, tags) {\n  const {\n    chainId: providerChainId\n  } = useEthers();\n  const [tokenList, setTokenList] = useState();\n  const chainId = overrideChainId || providerChainId;\n  useEffect(() => {\n    fetch(tokenListURI).then(async response => {\n      if (response.ok) {\n        const {\n          name,\n          logoURI,\n          tokens\n        } = await response.json();\n        setTokenList({\n          name,\n          logoURI,\n          tokens: tokens.filter(token => {\n            const sameChainId = token.chainId === chainId;\n\n            if (!tags) {\n              return sameChainId;\n            }\n\n            return sameChainId && token.tags && token.tags.some(tag => tags.includes(tag));\n          })\n        });\n      } else {\n        const errorMessage = await response.text();\n        return Promise.reject(new Error(errorMessage));\n      }\n    }).catch(err => {\n      console.log(err);\n      setTokenList(undefined);\n    });\n  }, [tokenListURI, chainId]);\n  return tokenList;\n}","map":{"version":3,"sources":["../../../../src/hooks/useTokenList.ts"],"names":[],"mappings":"AAAA,SAAS,SAAT,EAAoB,QAApB,QAAoC,OAApC;AAGA,SAAS,SAAT,QAA0B,aAA1B;AAQA,OAAM,SAAU,YAAV,CAAuB,YAAvB,EAA6C,eAA7C,EAAwE,IAAxE,EAAuF;AAC3F,QAAM;AAAE,IAAA,OAAO,EAAE;AAAX,MAA+B,SAAS,EAA9C;AACA,QAAM,CAAC,SAAD,EAAY,YAAZ,IAA4B,QAAQ,EAA1C;AAEA,QAAM,OAAO,GAAG,eAAe,IAAI,eAAnC;AAEA,EAAA,SAAS,CAAC,MAAK;AACb,IAAA,KAAK,CAAC,YAAD,CAAL,CACG,IADH,CACQ,MAAO,QAAP,IAAmB;AACvB,UAAI,QAAQ,CAAC,EAAb,EAAiB;AACf,cAAM;AAAE,UAAA,IAAF;AAAQ,UAAA,OAAR;AAAiB,UAAA;AAAjB,YAA4B,MAAM,QAAQ,CAAC,IAAT,EAAxC;AACA,QAAA,YAAY,CAAC;AACX,UAAA,IADW;AAEX,UAAA,OAFW;AAGX,UAAA,MAAM,EAAG,MAAsB,CAAC,MAAvB,CAA+B,KAAD,IAAU;AAC/C,kBAAM,WAAW,GAAG,KAAK,CAAC,OAAN,KAAkB,OAAtC;;AACA,gBAAI,CAAC,IAAL,EAAW;AACT,qBAAO,WAAP;AACD;;AACD,mBAAO,WAAW,IAAI,KAAK,CAAC,IAArB,IAA6B,KAAK,CAAC,IAAN,CAAW,IAAX,CAAiB,GAAD,IAAS,IAAI,CAAC,QAAL,CAAc,GAAd,CAAzB,CAApC;AACD,WANQ;AAHE,SAAD,CAAZ;AAWD,OAbD,MAaO;AACL,cAAM,YAAY,GAAG,MAAM,QAAQ,CAAC,IAAT,EAA3B;AACA,eAAO,OAAO,CAAC,MAAR,CAAe,IAAI,KAAJ,CAAU,YAAV,CAAf,CAAP;AACD;AACF,KAnBH,EAoBG,KApBH,CAoBU,GAAD,IAAQ;AACb,MAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACA,MAAA,YAAY,CAAC,SAAD,CAAZ;AACD,KAvBH;AAwBD,GAzBQ,EAyBN,CAAC,YAAD,EAAe,OAAf,CAzBM,CAAT;AA2BA,SAAO,SAAP;AACD","sourceRoot":"","sourcesContent":["import { useEffect, useState } from 'react';\nimport { useEthers } from './useEthers';\nexport function useTokenList(tokenListURI, overrideChainId, tags) {\n    const { chainId: providerChainId } = useEthers();\n    const [tokenList, setTokenList] = useState();\n    const chainId = overrideChainId || providerChainId;\n    useEffect(() => {\n        fetch(tokenListURI)\n            .then(async (response) => {\n            if (response.ok) {\n                const { name, logoURI, tokens } = await response.json();\n                setTokenList({\n                    name,\n                    logoURI,\n                    tokens: tokens.filter((token) => {\n                        const sameChainId = token.chainId === chainId;\n                        if (!tags) {\n                            return sameChainId;\n                        }\n                        return sameChainId && token.tags && token.tags.some((tag) => tags.includes(tag));\n                    }),\n                });\n            }\n            else {\n                const errorMessage = await response.text();\n                return Promise.reject(new Error(errorMessage));\n            }\n        })\n            .catch((err) => {\n            console.log(err);\n            setTokenList(undefined);\n        });\n    }, [tokenListURI, chainId]);\n    return tokenList;\n}\n//# sourceMappingURL=useTokenList.js.map"]},"metadata":{},"sourceType":"module"}