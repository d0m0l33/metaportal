{"ast":null,"code":"import _toConsumableArray from \"/Users/dominiclee/Desktop/ethprojs/metaportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"/Users/dominiclee/Desktop/ethprojs/metaportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"opacity\", \"speed\", \"width\", \"length\", \"segments\", \"dir\"];\nimport * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport { Billboard } from './Billboard.js';\nimport { useTexture } from './useTexture.js';\nimport CloudImage from '../assets/cloud.base64.js';\n\nfunction Cloud(_ref) {\n  var _ref$opacity = _ref.opacity,\n      opacity = _ref$opacity === void 0 ? 0.5 : _ref$opacity,\n      _ref$speed = _ref.speed,\n      speed = _ref$speed === void 0 ? 0.4 : _ref$speed,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 10 : _ref$width,\n      _ref$length = _ref.length,\n      length = _ref$length === void 0 ? 1.5 : _ref$length,\n      _ref$segments = _ref.segments,\n      segments = _ref$segments === void 0 ? 20 : _ref$segments,\n      _ref$dir = _ref.dir,\n      dir = _ref$dir === void 0 ? 1 : _ref$dir,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var group = React.useRef();\n  var texture = useTexture(CloudImage);\n  var clouds = React.useMemo(function () {\n    return _toConsumableArray(new Array(segments)).map(function (_, index) {\n      return {\n        x: width / 2 - Math.random() * width,\n        y: width / 2 - Math.random() * width,\n        scale: 0.4 + Math.sin((index + 1) / segments * Math.PI) * ((0.2 + Math.random()) * 10),\n        density: Math.max(0.2, Math.random()),\n        rotation: Math.max(0.002, 0.005 * Math.random()) * speed\n      };\n    });\n  }, [width, segments, speed]);\n  useFrame(function (state) {\n    var _group$current;\n\n    return (_group$current = group.current) == null ? void 0 : _group$current.children.forEach(function (cloud, index) {\n      cloud.rotation.z += clouds[index].rotation * dir;\n      cloud.scale.setScalar(clouds[index].scale + (1 + Math.sin(state.clock.getElapsedTime() / 10)) / 2 * index / 10);\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    position: [0, 0, segments / 2 * length],\n    ref: group\n  }, clouds.map(function (_ref2, index) {\n    var x = _ref2.x,\n        y = _ref2.y,\n        scale = _ref2.scale,\n        density = _ref2.density;\n    return /*#__PURE__*/React.createElement(Billboard, {\n      key: index,\n      scale: [scale, scale, scale],\n      position: [x, y, -index * length],\n      lockZ: true\n    }, /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n      map: texture,\n      transparent: true,\n      opacity: scale / 6 * density * opacity,\n      depthTest: false\n    }));\n  })));\n}\n\nexport { Cloud };","map":{"version":3,"sources":["/Users/dominiclee/Desktop/ethprojs/metaportal/node_modules/@react-three/drei/core/Cloud.js"],"names":["React","useFrame","Billboard","useTexture","CloudImage","Cloud","opacity","speed","width","length","segments","dir","props","group","useRef","texture","clouds","useMemo","Array","map","_","index","x","Math","random","y","scale","sin","PI","density","max","rotation","state","_group$current","current","children","forEach","cloud","z","setScalar","clock","getElapsedTime","createElement","position","ref","key","lockZ","transparent","depthTest"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport { Billboard } from './Billboard.js';\nimport { useTexture } from './useTexture.js';\nimport CloudImage from '../assets/cloud.base64.js';\n\nfunction Cloud({\n  opacity = 0.5,\n  speed = 0.4,\n  width = 10,\n  length = 1.5,\n  segments = 20,\n  dir = 1,\n  ...props\n}) {\n  const group = React.useRef();\n  const texture = useTexture(CloudImage);\n  const clouds = React.useMemo(() => [...new Array(segments)].map((_, index) => ({\n    x: width / 2 - Math.random() * width,\n    y: width / 2 - Math.random() * width,\n    scale: 0.4 + Math.sin((index + 1) / segments * Math.PI) * ((0.2 + Math.random()) * 10),\n    density: Math.max(0.2, Math.random()),\n    rotation: Math.max(0.002, 0.005 * Math.random()) * speed\n  })), [width, segments, speed]);\n  useFrame(state => {\n    var _group$current;\n\n    return (_group$current = group.current) == null ? void 0 : _group$current.children.forEach((cloud, index) => {\n      cloud.rotation.z += clouds[index].rotation * dir;\n      cloud.scale.setScalar(clouds[index].scale + (1 + Math.sin(state.clock.getElapsedTime() / 10)) / 2 * index / 10);\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    position: [0, 0, segments / 2 * length],\n    ref: group\n  }, clouds.map(({\n    x,\n    y,\n    scale,\n    density\n  }, index) => /*#__PURE__*/React.createElement(Billboard, {\n    key: index,\n    scale: [scale, scale, scale],\n    position: [x, y, -index * length],\n    lockZ: true\n  }, /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n    map: texture,\n    transparent: true,\n    opacity: scale / 6 * density * opacity,\n    depthTest: false\n  })))));\n}\n\nexport { Cloud };\n"]},"metadata":{},"sourceType":"module"}