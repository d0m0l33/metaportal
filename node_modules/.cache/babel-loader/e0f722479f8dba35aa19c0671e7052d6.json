{"ast":null,"code":"// get price from token contract\nexport const getCoingeckoSimpleTokenPriceUri = (contract, quoteId, platformId) => `https://api.coingecko.com/api/v3/simple/token_price/${platformId}?contract_addresses=${contract}&vs_currencies=${quoteId}`;\nexport const fetchCoingeckoTokenPrice = fetchFunction => async (contract, quote, platform) => {\n  try {\n    const addr = contract.toLowerCase();\n    const quoteId = quote.toLowerCase();\n    const platformId = platform.toLowerCase();\n    const url = getCoingeckoSimpleTokenPriceUri(addr, quoteId, platformId);\n    const data = await fetchFunction(url, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const result = await data.json();\n    const price = result[addr][quoteId];\n    return price ? price + '' : undefined;\n  } catch (_) {\n    return undefined;\n  }\n};\nexport const getCoingeckoTokenPrice = fetchCoingeckoTokenPrice(typeof window !== 'undefined' && window.fetch);","map":{"version":3,"sources":["../../../src/simple_token_price.ts"],"names":[],"mappings":"AAAA;AACA,OAAO,MAAM,+BAA+B,GAAG,CAAC,QAAD,EAAmB,OAAnB,EAAoC,UAApC,KAC7C,uDAAuD,UAAU,uBAAuB,QAAQ,kBAAkB,OAAO,EADpH;AAGP,OAAO,MAAM,wBAAwB,GAAI,aAAD,IAAwB,OAC9D,QAD8D,EAE9D,KAF8D,EAG9D,QAH8D,KAI5D;AACF,MAAI;AACF,UAAM,IAAI,GAAG,QAAQ,CAAC,WAAT,EAAb;AACA,UAAM,OAAO,GAAG,KAAK,CAAC,WAAN,EAAhB;AACA,UAAM,UAAU,GAAG,QAAQ,CAAC,WAAT,EAAnB;AACA,UAAM,GAAG,GAAG,+BAA+B,CAAC,IAAD,EAAO,OAAP,EAAgB,UAAhB,CAA3C;AACA,UAAM,IAAI,GAAG,MAAM,aAAa,CAAC,GAAD,EAAM;AACpC,MAAA,MAAM,EAAE,KAD4B;AAEpC,MAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAF2B,KAAN,CAAhC;AAMA,UAAM,MAAM,GAAG,MAAM,IAAI,CAAC,IAAL,EAArB;AACA,UAAM,KAAK,GAAG,MAAM,CAAC,IAAD,CAAN,CAAa,OAAb,CAAd;AACA,WAAO,KAAK,GAAG,KAAK,GAAG,EAAX,GAAgB,SAA5B;AACD,GAdD,CAcE,OAAO,CAAP,EAAU;AACV,WAAO,SAAP;AACD;AACF,CAtBM;AAwBP,OAAO,MAAM,sBAAsB,GAAG,wBAAwB,CAAC,OAAO,MAAP,KAAkB,WAAlB,IAAiC,MAAM,CAAC,KAAzC,CAAvD","sourceRoot":"","sourcesContent":["// get price from token contract\nexport const getCoingeckoSimpleTokenPriceUri = (contract, quoteId, platformId) => `https://api.coingecko.com/api/v3/simple/token_price/${platformId}?contract_addresses=${contract}&vs_currencies=${quoteId}`;\nexport const fetchCoingeckoTokenPrice = (fetchFunction) => async (contract, quote, platform) => {\n    try {\n        const addr = contract.toLowerCase();\n        const quoteId = quote.toLowerCase();\n        const platformId = platform.toLowerCase();\n        const url = getCoingeckoSimpleTokenPriceUri(addr, quoteId, platformId);\n        const data = await fetchFunction(url, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n        const result = await data.json();\n        const price = result[addr][quoteId];\n        return price ? price + '' : undefined;\n    }\n    catch (_) {\n        return undefined;\n    }\n};\nexport const getCoingeckoTokenPrice = fetchCoingeckoTokenPrice(typeof window !== 'undefined' && window.fetch);\n//# sourceMappingURL=simple_token_price.js.map"]},"metadata":{},"sourceType":"module"}